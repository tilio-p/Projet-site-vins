"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Config = void 0;
var _logger = require("@parcel/logger");
var _path = _interopRequireDefault(require("path"));
var _fs = _interopRequireDefault(require("fs"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
var PACKAGE_JSON_SECTION = "parcel-namer-rewrite";
var Config = exports.Config = /*#__PURE__*/function () {
  function Config() {
    _classCallCheck(this, Config);
    _defineProperty(this, "profileEnvKeyDeprecated", 'PARCEL-NAMER-REWRITE-PROFILE');
    _defineProperty(this, "profileEnvKey", 'PARCEL_NAMER_REWRITE_PROFILE');
    _defineProperty(this, "rules", void 0);
    _defineProperty(this, "chain", void 0);
    /**
     * Disable in development
     */
    _defineProperty(this, "disable", false);
    /**
     * Name hashing
     */
    _defineProperty(this, "hashing", '');
    // "never", "always"
    /**
     * Disable logging names
     */
    _defineProperty(this, "silent", false);
    /**
     * Use file name hashes from parcel
     */
    _defineProperty(this, "useParcelHash", true);
    this.rules = [];
    this.chain = '@parcel/namer-default';
  }
  _createClass(Config, [{
    key: "loadFromPackageFolder",
    value: function loadFromPackageFolder(rootFolder, env, defaultProfiles, logger) {
      var _this = this;
      var packageJson = _fs["default"].readFileSync(_path["default"].join(rootFolder, 'package.json')).toString();
      var packageInfo = JSON.parse(packageJson);
      var packageSection = packageInfo[PACKAGE_JSON_SECTION];
      if (!packageSection) {
        logger.warn({
          message: "no \"".concat(PACKAGE_JSON_SECTION, "\" section in package.json. Use no-rules config")
        });
        return;
      }
      this._loadFromPackageSection(packageSection, logger);
      var profileNames = '';
      if (defaultProfiles) profileNames += ',' + defaultProfiles;
      if (this.profileEnvKeyDeprecated in env) {
        logger.warn({
          message: "You are using deprecated environment variable ".concat(this.profileEnvKeyDeprecated, ". Consider switch to ").concat(this.profileEnvKey)
        });
        profileNames += ',' + env[this.profileEnvKeyDeprecated];
      }
      if (this.profileEnvKey in env) profileNames += ',' + env[this.profileEnvKey];
      var profileSections = packageSection['profiles'];
      if (profileSections) {
        profileNames.split(/[,]/).map(function (profile) {
          return profileSections[profile];
        }).filter(function (profile) {
          return !!profile;
        }).forEach(function (profile) {
          _this._loadFromPackageSection(profile, logger);
        });
      }
    }
  }, {
    key: "_loadFromPackageSection",
    value: function _loadFromPackageSection(section, logger) {
      var _this2 = this;
      if (!section) return;
      if ('profile-env-key' in section) {
        this.profileEnvKey = section['profile-env-key'];
      }
      if ('chain' in section) {
        this.chain = section.chain;
      }
      if ('neverHashing' in section) {
        this.neverHashing = !!section.neverHashing;
      }
      this.silent = 'silent' in section && section.silent;
      if ('useParcelHash' in section) {
        this.useParcelHash = !!section.useParcelHash;
      }
      if ('rules' in section) {
        Object.keys(section.rules).forEach(function (k) {
          var ruleData = section.rules[k];
          var ruleTo = typeof ruleData === 'string' ? ruleData : null;
          if (ruleTo === null) {
            logger.warn("No \"to\" rule for test \"".concat(k, "\" "));
            return;
          }
          _this2.rules.push({
            test: new RegExp(k),
            to: ruleTo
          });
        });
      }
      if ('developmentHashing' in section) {
        throw Error("The \"developmentHashing\" option is not supported any more. Add \"development\" profile and set {\"hashing\": \"never\"} there. See documentation for details here: https://github.com/ol-loginov/parcel-namer-rewrite");
      }
      if ('developmentDisable' in section) {
        throw Error("The \"developmentDisable\" option is not supported any more. Add \"development\" profile and set {\"disable\": false} there. See documentation for details here: https://github.com/ol-loginov/parcel-namer-rewrite");
      }
      if ('hashing' in section) {
        this.hashing = section['hashing'];
      }
      if ('disable' in section) {
        this.disable = !!section['disable'];
      }
    }
  }, {
    key: "selectRule",
    value: function selectRule(name) {
      var matches = this.rules.map(function (rule) {
        return rule.test.test(name) ? rule : null;
      }).filter(function (rule) {
        return rule != null;
      });
      if (matches.length > 0) {
        return matches[0];
      }
      return null;
    }
  }]);
  return Config;
}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbG9nZ2VyIiwicmVxdWlyZSIsIl9wYXRoIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9mcyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJfdHlwZW9mIiwibyIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfdG9Qcm9wZXJ0eUtleSIsImtleSIsIl9jcmVhdGVDbGFzcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9kZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiY2FsbCIsIk51bWJlciIsIlBBQ0tBR0VfSlNPTl9TRUNUSU9OIiwiQ29uZmlnIiwiZXhwb3J0cyIsInJ1bGVzIiwiY2hhaW4iLCJsb2FkRnJvbVBhY2thZ2VGb2xkZXIiLCJyb290Rm9sZGVyIiwiZW52IiwiZGVmYXVsdFByb2ZpbGVzIiwibG9nZ2VyIiwiX3RoaXMiLCJwYWNrYWdlSnNvbiIsImZzIiwicmVhZEZpbGVTeW5jIiwicGF0aCIsImpvaW4iLCJ0b1N0cmluZyIsInBhY2thZ2VJbmZvIiwiSlNPTiIsInBhcnNlIiwicGFja2FnZVNlY3Rpb24iLCJ3YXJuIiwibWVzc2FnZSIsImNvbmNhdCIsIl9sb2FkRnJvbVBhY2thZ2VTZWN0aW9uIiwicHJvZmlsZU5hbWVzIiwicHJvZmlsZUVudktleURlcHJlY2F0ZWQiLCJwcm9maWxlRW52S2V5IiwicHJvZmlsZVNlY3Rpb25zIiwic3BsaXQiLCJtYXAiLCJwcm9maWxlIiwiZmlsdGVyIiwiZm9yRWFjaCIsInNlY3Rpb24iLCJfdGhpczIiLCJuZXZlckhhc2hpbmciLCJzaWxlbnQiLCJ1c2VQYXJjZWxIYXNoIiwia2V5cyIsImsiLCJydWxlRGF0YSIsInJ1bGVUbyIsInB1c2giLCJ0ZXN0IiwiUmVnRXhwIiwidG8iLCJFcnJvciIsImhhc2hpbmciLCJkaXNhYmxlIiwic2VsZWN0UnVsZSIsIm5hbWUiLCJtYXRjaGVzIiwicnVsZSJdLCJzb3VyY2VzIjpbIi4uL3NyYy9Db25maWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtQbHVnaW5Mb2dnZXJ9IGZyb20gJ0BwYXJjZWwvbG9nZ2VyJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcblxuY29uc3QgUEFDS0FHRV9KU09OX1NFQ1RJT04gPSBcInBhcmNlbC1uYW1lci1yZXdyaXRlXCI7XG5cbmV4cG9ydCBjbGFzcyBDb25maWcge1xuICAgIHByb2ZpbGVFbnZLZXlEZXByZWNhdGVkID0gJ1BBUkNFTC1OQU1FUi1SRVdSSVRFLVBST0ZJTEUnXG4gICAgcHJvZmlsZUVudktleSA9ICdQQVJDRUxfTkFNRVJfUkVXUklURV9QUk9GSUxFJ1xuXG4gICAgcnVsZXM6IE5hbWVyUnVsZVtdXG4gICAgY2hhaW46IHN0cmluZ1xuICAgIC8qKlxuICAgICAqIERpc2FibGUgaW4gZGV2ZWxvcG1lbnRcbiAgICAgKi9cbiAgICBkaXNhYmxlID0gZmFsc2VcbiAgICAvKipcbiAgICAgKiBOYW1lIGhhc2hpbmdcbiAgICAgKi9cbiAgICBoYXNoaW5nID0gJycgLy8gXCJuZXZlclwiLCBcImFsd2F5c1wiXG4gICAgLyoqXG4gICAgICogRGlzYWJsZSBsb2dnaW5nIG5hbWVzXG4gICAgICovXG4gICAgc2lsZW50ID0gZmFsc2VcbiAgICAvKipcbiAgICAgKiBVc2UgZmlsZSBuYW1lIGhhc2hlcyBmcm9tIHBhcmNlbFxuICAgICAqL1xuICAgIHVzZVBhcmNlbEhhc2ggPSB0cnVlXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ydWxlcyA9IFtdO1xuICAgICAgICB0aGlzLmNoYWluID0gJ0BwYXJjZWwvbmFtZXItZGVmYXVsdCc7XG4gICAgfVxuXG4gICAgbG9hZEZyb21QYWNrYWdlRm9sZGVyKHJvb3RGb2xkZXI6IHN0cmluZywgZW52OiB7fSwgZGVmYXVsdFByb2ZpbGVzOiBzdHJpbmdbXSwgbG9nZ2VyOiBQbHVnaW5Mb2dnZXIpIHtcbiAgICAgICAgY29uc3QgcGFja2FnZUpzb24gPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKHJvb3RGb2xkZXIsICdwYWNrYWdlLmpzb24nKSkudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgcGFja2FnZUluZm8gPSBKU09OLnBhcnNlKHBhY2thZ2VKc29uKTtcbiAgICAgICAgY29uc3QgcGFja2FnZVNlY3Rpb24gPSBwYWNrYWdlSW5mb1tQQUNLQUdFX0pTT05fU0VDVElPTl07XG4gICAgICAgIGlmICghcGFja2FnZVNlY3Rpb24pIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgbm8gXCIke1BBQ0tBR0VfSlNPTl9TRUNUSU9OfVwiIHNlY3Rpb24gaW4gcGFja2FnZS5qc29uLiBVc2Ugbm8tcnVsZXMgY29uZmlnYFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWRGcm9tUGFja2FnZVNlY3Rpb24ocGFja2FnZVNlY3Rpb24sIGxvZ2dlcik7XG5cbiAgICAgICAgbGV0IHByb2ZpbGVOYW1lcyA9ICcnO1xuICAgICAgICBpZiAoZGVmYXVsdFByb2ZpbGVzKSBwcm9maWxlTmFtZXMgKz0gJywnICsgZGVmYXVsdFByb2ZpbGVzXG4gICAgICAgIGlmICh0aGlzLnByb2ZpbGVFbnZLZXlEZXByZWNhdGVkIGluIGVudikge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oe21lc3NhZ2U6IGBZb3UgYXJlIHVzaW5nIGRlcHJlY2F0ZWQgZW52aXJvbm1lbnQgdmFyaWFibGUgJHt0aGlzLnByb2ZpbGVFbnZLZXlEZXByZWNhdGVkfS4gQ29uc2lkZXIgc3dpdGNoIHRvICR7dGhpcy5wcm9maWxlRW52S2V5fWB9KVxuICAgICAgICAgICAgcHJvZmlsZU5hbWVzICs9ICcsJyArIGVudlt0aGlzLnByb2ZpbGVFbnZLZXlEZXByZWNhdGVkXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcm9maWxlRW52S2V5IGluIGVudikgcHJvZmlsZU5hbWVzICs9ICcsJyArIGVudlt0aGlzLnByb2ZpbGVFbnZLZXldXG5cbiAgICAgICAgY29uc3QgcHJvZmlsZVNlY3Rpb25zID0gcGFja2FnZVNlY3Rpb25bJ3Byb2ZpbGVzJ107XG4gICAgICAgIGlmIChwcm9maWxlU2VjdGlvbnMpIHtcbiAgICAgICAgICAgIHByb2ZpbGVOYW1lcy5zcGxpdCgvWyxdLylcbiAgICAgICAgICAgICAgICAubWFwKHByb2ZpbGUgPT4gcHJvZmlsZVNlY3Rpb25zW3Byb2ZpbGVdKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIocHJvZmlsZSA9PiAhIXByb2ZpbGUpXG4gICAgICAgICAgICAgICAgLmZvckVhY2gocHJvZmlsZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRGcm9tUGFja2FnZVNlY3Rpb24ocHJvZmlsZSwgbG9nZ2VyKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2xvYWRGcm9tUGFja2FnZVNlY3Rpb24oc2VjdGlvbiwgbG9nZ2VyOiBQbHVnaW5Mb2dnZXIpIHtcbiAgICAgICAgaWYgKCFzZWN0aW9uKSByZXR1cm47XG5cbiAgICAgICAgaWYgKCdwcm9maWxlLWVudi1rZXknIGluIHNlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMucHJvZmlsZUVudktleSA9IHNlY3Rpb25bJ3Byb2ZpbGUtZW52LWtleSddO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdjaGFpbicgaW4gc2VjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5jaGFpbiA9IHNlY3Rpb24uY2hhaW47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ25ldmVySGFzaGluZycgaW4gc2VjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5uZXZlckhhc2hpbmcgPSAhIXNlY3Rpb24ubmV2ZXJIYXNoaW5nXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNpbGVudCA9ICdzaWxlbnQnIGluIHNlY3Rpb24gJiYgc2VjdGlvbi5zaWxlbnQ7XG5cbiAgICAgICAgaWYgKCd1c2VQYXJjZWxIYXNoJyBpbiBzZWN0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnVzZVBhcmNlbEhhc2ggPSAhIXNlY3Rpb24udXNlUGFyY2VsSGFzaDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgncnVsZXMnIGluIHNlY3Rpb24pIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNlY3Rpb24ucnVsZXMpLmZvckVhY2goayA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcnVsZURhdGEgPSBzZWN0aW9uLnJ1bGVzW2tdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJ1bGVUbyA9IHR5cGVvZiBydWxlRGF0YSA9PT0gJ3N0cmluZycgPyBydWxlRGF0YSA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHJ1bGVUbyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybihgTm8gXCJ0b1wiIHJ1bGUgZm9yIHRlc3QgXCIke2t9XCIgYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJ1bGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0ZXN0OiBuZXcgUmVnRXhwKGspLFxuICAgICAgICAgICAgICAgICAgICB0bzogcnVsZVRvXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ2RldmVsb3BtZW50SGFzaGluZycgaW4gc2VjdGlvbikge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYFRoZSBcImRldmVsb3BtZW50SGFzaGluZ1wiIG9wdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGFueSBtb3JlLiBBZGQgXCJkZXZlbG9wbWVudFwiIHByb2ZpbGUgYW5kIHNldCB7XCJoYXNoaW5nXCI6IFwibmV2ZXJcIn0gdGhlcmUuIFNlZSBkb2N1bWVudGF0aW9uIGZvciBkZXRhaWxzIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9vbC1sb2dpbm92L3BhcmNlbC1uYW1lci1yZXdyaXRlYClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgnZGV2ZWxvcG1lbnREaXNhYmxlJyBpbiBzZWN0aW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihgVGhlIFwiZGV2ZWxvcG1lbnREaXNhYmxlXCIgb3B0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgYW55IG1vcmUuIEFkZCBcImRldmVsb3BtZW50XCIgcHJvZmlsZSBhbmQgc2V0IHtcImRpc2FibGVcIjogZmFsc2V9IHRoZXJlLiBTZWUgZG9jdW1lbnRhdGlvbiBmb3IgZGV0YWlscyBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vb2wtbG9naW5vdi9wYXJjZWwtbmFtZXItcmV3cml0ZWApXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJ2hhc2hpbmcnIGluIHNlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuaGFzaGluZyA9IHNlY3Rpb25bJ2hhc2hpbmcnXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2Rpc2FibGUnIGluIHNlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZSA9ICEhc2VjdGlvblsnZGlzYWJsZSddO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VsZWN0UnVsZShuYW1lOiBzdHJpbmcpOiBOYW1lclJ1bGUgfCBudWxsIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IHRoaXMucnVsZXNcbiAgICAgICAgICAgIC5tYXAocnVsZSA9PiBydWxlLnRlc3QudGVzdChuYW1lKSA/IHJ1bGUgOiBudWxsKVxuICAgICAgICAgICAgLmZpbHRlcihydWxlID0+IHJ1bGUgIT0gbnVsbCk7XG4gICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVzWzBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBOYW1lclJ1bGUge1xuICAgIHRlc3Q6IFJlZ0V4cDtcbiAgICB0bzogc3RyaW5nO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFDLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBRyxHQUFBLEdBQUFELHNCQUFBLENBQUFGLE9BQUE7QUFBb0IsU0FBQUUsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxnQkFBQUEsR0FBQTtBQUFBLFNBQUFFLFFBQUFDLENBQUEsc0NBQUFELE9BQUEsd0JBQUFFLE1BQUEsdUJBQUFBLE1BQUEsQ0FBQUMsUUFBQSxhQUFBRixDQUFBLGtCQUFBQSxDQUFBLGdCQUFBQSxDQUFBLFdBQUFBLENBQUEseUJBQUFDLE1BQUEsSUFBQUQsQ0FBQSxDQUFBRyxXQUFBLEtBQUFGLE1BQUEsSUFBQUQsQ0FBQSxLQUFBQyxNQUFBLENBQUFHLFNBQUEscUJBQUFKLENBQUEsS0FBQUQsT0FBQSxDQUFBQyxDQUFBO0FBQUEsU0FBQUssZ0JBQUFDLFFBQUEsRUFBQUMsV0FBQSxVQUFBRCxRQUFBLFlBQUFDLFdBQUEsZUFBQUMsU0FBQTtBQUFBLFNBQUFDLGtCQUFBQyxNQUFBLEVBQUFDLEtBQUEsYUFBQUMsQ0FBQSxNQUFBQSxDQUFBLEdBQUFELEtBQUEsQ0FBQUUsTUFBQSxFQUFBRCxDQUFBLFVB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